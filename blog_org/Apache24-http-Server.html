<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Verdana";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c3{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-size:12pt;font-family:"Verdana"}.c8{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{font-size:12pt;font-family:"Verdana";font-weight:400}.c7{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c5{color:inherit;text-decoration:inherit}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c7"><p class="c2"><span class="c8">Apache 24 http Server - the web server inside of windows EC2 server</span></p><p class="c0"><span class="c4"></span></p><p class="c2"><span class="c1">First of all, what exactly is an http server? It is software that hosts and runs HTML and PHP web pages. Why Apache? We can also use nginx (pronounced engine-x) or if we are Microsoft &lsquo;only&rsquo; buffs we can use IIS. When serving up java servlet web pages using jdbc we can use Apache Tomcat. But Apache 24 is my favorite. It is one of the most popular for 25 years. And we cannot run PHP without it (apache XAMPP web server).</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">After creating our AWS EC2 server, we need to download apache24 and add php capability only if that is the way u want to go. But I chose to use only html as a beginner. We will use our EC2 instance and Apache together. EC2 provides the windows environment and ip routing and apache serves up virtual web hosts based on domain name(s) and corresponding pages.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Where index.html or index.php lives</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">After downloading, the main file in Apache24 is httpd.conf which can be found in the conf folder, the main configuration file where we provide instructions to apache about how to act. In this file we configure virtual hosts to route our web pages from route 53 to the users screen. We also do ssl here among other operations. I recommend a bare bones config which looks similar to this:</span></p>

<br>
<div style="background-color:white">


<p class="c2"><span class="c1"># this is a very much condensed sample of httpd.conf file</span></p>
<p class="c2"><span class="c1"># I recommend u view this from a desktop because on a mobile phone some lines may run into other lines</span></p>


<p class="c2"><span class="c1"># it contains key lines needed for virtual hosting and ssl</span></p><p class="c2"><span class="c1"># open ur own httpd.conf file and re configure it similar to below</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1"># enable php</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">LoadModule php7_module &quot;c:/php7/php7apache2_4.dll</span></p><p class="c2"><span class="c1">PHPIniDir &quot;c:/php7&quot;</span></p><p class="c2"><span class="c1">AddHandler application/x-httpd-php .php</span></p><p class="c2"><span class="c1">AddType application/x-httpd-php .php</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">ServerRoot &quot;c:/httpd-2.4.33-win64-VC15/Apache24&quot;</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Listen 80</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">LoadModule proxy_module modules/mod_proxy.so</span></p><p class="c2"><span class="c1">LoadModule proxy_http_module modules/mod_proxy_http.so</span></p><p class="c2"><span class="c1">LoadModule rewrite_module modules/mod_rewrite.so</span></p><p class="c2"><span class="c1">LoadModule setenvif_module modules/mod_setenvif.so</span></p><p class="c2"><span class="c1">LoadModule socache_shmcb_module modules/mod_socache_shmcb.so</span></p><p class="c2"><span class="c1">LoadModule ssl_module modules/mod_ssl.so</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1"># &#39;Main&#39; server configuration</span></p><p class="c2"><span class="c1">ServerAdmin admin@example.com</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">&nbsp; &nbsp;#last used....this is the ip address we get from our aws EC2 server</span></p><p class="c2"><span class="c1">ServerName 18.191.142.3:80</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">DocumentRoot &quot;c:/httpd-2.4.33-win64-VC15/Apache24/htdocs&quot;</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1"># Supplemental configuration</span></p><p class="c2"><span class="c1">#</span></p><p class="c2"><span class="c1"># The configuration files in the conf/extra/ directory can be </span></p><p class="c2"><span class="c1"># included to add extra features or to modify the default configuration of </span></p><p class="c2"><span class="c1"># the server, or you may simply copy their contents here and change as </span></p><p class="c2"><span class="c1"># necessary.</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1"># Secure (SSL/TLS) connections....we need this file found in the extra folder in order to config ssl</span></p>
<br>
<p class="c2"><span class="c1">Include conf/extra/httpd-ssl.conf</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">&lt;VirtualHost *:80&gt;</span></p><p class="c2"><span class="c1">&nbsp; ServerName javasqlweb.com:80</span></p><p class="c2"><span class="c1">&nbsp; &nbsp;# add ServerAlias for sub directories</span></p><p class="c2"><span class="c1">DocumentRoot &quot;c:/httpd-2.4.33-win64-VC15/Apache24/htdocs/java&quot; </span></p><p class="c2"><span class="c1">&nbsp; &nbsp; # add this to allow users access to files, require all replaces allow from all i think, see above for instructions</span></p><p class="c2"><span class="c1">&lt;Directory &quot;c:/httpd-2.4.33-win64-VC15/Apache24/htdocs/java&quot;&gt;</span></p><p class="c2"><span class="c1">&nbsp; &nbsp; #Options Indexes FollowSymLinks</span></p><p class="c2"><span class="c1">&nbsp; &nbsp; AllowOverride None</span></p><p class="c2"><span class="c1">&nbsp; &nbsp; Require all granted</span></p><p class="c2"><span class="c1">Order allow,deny</span></p><p class="c2"><span class="c1">allow from all</span></p><p class="c2"><span class="c1">&lt;/Directory&gt;</span></p><p class="c2"><span class="c1">&lt;/VirtualHost&gt;</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1"># add a second vhost and so on..if user enters http instead of https these below directives redirect user to ssl file in extra folder</span></p><p class="c2"><span class="c1">&lt;VirtualHost *:80&gt;</span></p><p class="c2"><span class="c1">ServerName blog.javasqlweb.org:80</span></p><p class="c2"><span class="c1">#DocumentRoot &quot;c:/httpd-2.4.33-win64-VC15/Apache24/htdocs&quot;</span></p><p class="c2"><span class="c1">Redirect / https://blog.javasqlweb.org/</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">&lt;/VirtualHost&gt;</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">#add a 3rd vhost...note that we redirect the http version to https version which is found in the extra folder \ ssl page</span></p><p class="c2"><span class="c1">&lt;VirtualHost *:80&gt;</span></p><p class="c2"><span class="c1">ServerName cookiefreecoders.com:80</span></p><p class="c2"><span class="c1">#DocumentRoot &quot;c:/httpd-2.4.33-win64-VC15/Apache24/htdocs/cookie_free&quot;</span></p><p class="c2"><span class="c1">Redirect / https://cookiefreecoders.com/</span></p>

<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">&lt;/VirtualHost&gt;</span></p>

</div>
<br>
<p>
note also to configure the ssl file, httpd-ssl.conf, found in the extra folder ****this is VERY important to enable https pages where u will also install ur ssl certs
</p>

<p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Next, Notice also that we have a dotdocs folder. This is where index.html lives or index.php whichever u prefer. For the beginner, PHP is wildly popular because of its front and backend javascript, but it can be a bit more complicated than basic html which I recommend we start with.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c6">To get started we listen for an ip address where with http protocol the user types in </span><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://our&amp;sa=D&amp;ust=1607876995709000&amp;usg=AOvVaw2Ach96eGgnCoy30cBlYoDm">https://our</a></span><span class="c1">&nbsp;domain name.com. This is a Request by the Client.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">So basically the apache server does 2 things. It listens for a request and then serves up the response which is the web page. Request and response is the foundation for http protocol also known as the client-server computing model.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Create v host(s)</span></p><p class="c2"><span class="c1">You can also host ssl certs</span></p><p class="c2"><span class="c1">And optional put tomcat behind apache</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">And use...Rewrite Conditions for hiding the html and/or php extension. I originally wanted to hide extensions so no one would know I was using php sessions for tracking.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">When I first used apache I did not have a domain name yet but I had an IP address so I assigned it to the name ServerName directive. It was then ok to http into this address. But if u have a domain name u can use vhost section of apache to register that name that is routed to ur ip address by aws route 53.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">So in the beginning I could have someone at my workplace http into my ip address to see my files and servlets. For local testing I would use localhost or 127.0.0.1 as my ServerName. Also originally I did not have port 80 open but instead I was listening on port 8071 as a security measure. At some point u must listen on port 80 because it is where public requests come in and get responded to.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c6">Next Up... request / response model, then </span><span class="c3"><a class="c5" href="https://www.google.com/url?q=http://localhost&amp;sa=D&amp;ust=1607876995711000&amp;usg=AOvVaw18PycI5KNaN9c-dgyVTYzI">http://localhost</a></span><span class="c1">&nbsp;then http then https</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">More to come&hellip;&hellip;.</span></p></body></html>